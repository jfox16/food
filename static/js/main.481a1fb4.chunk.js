(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{40:function(n,e,t){},48:function(n,e,t){},68:function(n,e,t){"use strict";t.r(e);var a={};t.r(a),t.d(a,"fetchFood",(function(){return C}));var o,i,c,r,s,d,f=t(0),p=t.n(f),u=t(11),j=t.n(u),b=(t(40),t(3)),h=t(7),O=t(4),l=(t(48),t(10)),x=t(17),g=t(1),m=Object(O.b)(o||(o=Object(b.a)(["\n  0% { opacity: 0.0 }\n  100% { opacity: 1.0 }\n"]))),v=O.a.img(i||(i=Object(b.a)(["\n  height: 250px;\n  width: auto;\n  max-width: 400px;\n  flex-grow: 1;\n  object-fit: cover;\n  padding: 1px;\n\n  animation: 1s ",";\n\n  @media (max-width: 768px) {\n    height: 150px;\n    max-width: 240px;\n  }\n\n  @media (max-width: 400px) {\n    height: 100px;\n    max-width: 160px;\n  }\n"])),m),w=function(n){var e=n.src,t=n.onLoad,a=n.i,o=n.showImage;return o&&console.log("SHOWING "+a+"!"),Object(g.jsx)(v,{style:o?{}:{display:"none"},src:e,alt:"food",onLoad:t})},y=t(6),F="FETCH_FOOD_IMAGES_START",L="FETCH_FOOD_IMAGES_SUCCESS",E="FETCH_FOOD_IMAGES_FAILURE",S={isLoading:!1,error:"",images:[]},I=t(16),_=t.n(I),C=function(){return function(n){n({type:F});for(var e=[],t=0;t<50;t++)e.push(_.a.get("https://foodish-api.herokuapp.com/api"));_.a.all(e).then((function(e){var t=e.map((function(n){return n.data.image}));n({type:L,payload:t})})).catch((function(e){console.log(e),n({type:E})}))}},T=a.fetchFood,A=O.a.div(c||(c=Object(b.a)(["\n  box-sizing: border-box;\n  width: 100vw;\n  max-width: 100%;\n  overflow: hidden;\n"]))),z=O.a.div(r||(r=Object(b.a)(["\n  position: relative;\n  left: -1px;\n  width: calc(100% + 2px);\n  display: flex;\n  flex-wrap: wrap;\n"]))),D=Object(h.b)((function(n){return{foodImages:n.food.images,isLoading:n.food.isLoading,error:n.food.error}}),{fetchFood:T})((function(n){var e=n.foodImages,t=n.fetchFood,a=n.isLoading,o=n.error,i=Object(f.useState)([]),c=Object(x.a)(i,2),r=c[0],s=c[1],d=Object(f.useState)(-1),p=Object(x.a)(d,2),u=p[0],j=p[1];Object(f.useEffect)((function(){t()}),[t]),Object(f.useEffect)((function(){s([])}),[e]),Object(f.useEffect)((function(){for(var n=u,e=u+1;e<r.length&&r[e];e++)n=e;j(n)}),[u,r]);return Object(g.jsx)(A,{children:Object(g.jsx)(z,{children:!a&&!o&&(null===e||void 0===e?void 0:e.map((function(n,e){return Object(g.jsx)(w,{src:n,i:e,onLoad:function(){return function(n){var e=Object(l.a)(r);e[n]=!0,console.log(e),s(e)}(e)},showImage:u>=e},e)})))})})}));var G=O.a.div(s||(s=Object(b.a)(["\n  font-size: 16px;\n\n  @media (max-width: 768px) {\n    font-size: 14px;\n  }\n  \n  @media (max-width: 400px) {\n    font-size: 12px;\n  }\n"]))),H=O.a.h1(d||(d=Object(b.a)(["\n  font-family: 'Playfair Display', serif;\n  font-size: 3em;\n  text-transform: uppercase;\n  letter-spacing: 0.07em;\n  margin: 0.4em;\n  color: hsl(0, 0%, 25%);\n"]))),M=Object(h.b)()((function(){return Object(g.jsxs)(G,{className:"App",children:[Object(g.jsx)(H,{children:"Food"}),Object(g.jsx)(D,{})]})})),k=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,69)).then((function(e){var t=e.getCLS,a=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;t(n),a(n),o(n),i(n),c(n)}))},P=t(5),B=t(34),J=t.n(B),N=t(35),R=Object(P.c)({food:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case F:return Object(y.a)(Object(y.a)({},n),{},{isLoading:!0});case L:return Object(y.a)(Object(y.a)({},n),{},{images:[].concat(Object(l.a)(n.images),Object(l.a)(e.payload)),isLoading:!1});case E:return Object(y.a)(Object(y.a)({},n),{},{error:e.payload,isLoading:!1});default:return n}}}),U=Object(P.d)(R,Object(P.a)(N.a,J.a));j.a.render(Object(g.jsx)(p.a.StrictMode,{children:Object(g.jsx)(h.a,{store:U,children:Object(g.jsx)(M,{})})}),document.getElementById("root")),k()}},[[68,1,2]]]);
//# sourceMappingURL=main.481a1fb4.chunk.js.map